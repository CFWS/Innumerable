function scrollPosition(){return 0===window.scrollY||void 0===window.scrollY?document.documentElement.scrollTop:window.scrollY}var smooth_scroll_to=function(r,o){if(r=Math.round(r),o=Math.round(o),0>o)return Promise.reject("bad duration");if(0===o)return window.scroll(0,r),Promise.resolve();var n=Date.now(),t=n+o,i=scrollPosition(),e=r-i,l=function(r,o,n){if(r>=n)return 0;if(n>=o)return 1;var t=(n-r)/(o-r);return t*t*(3-2*t)};return new Promise(function(o){var u=scrollPosition(),c=function(){scrollPosition()!==u&&(0==navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i));var s=Date.now(),a=l(n,t,s),d=Math.round(i+e*a);return window.scroll(0,d),s>=t?void o():r===scrollPosition?void o():(u=scrollPosition(),void setTimeout(c,0))};setTimeout(c,0)})};