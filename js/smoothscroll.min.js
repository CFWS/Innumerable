function scrollPosition(){return 0===window.scrollY||void 0===window.scrollY?document.documentElement.scrollTop:window.scrollY}var smooth_scroll_to=function(r,o){if(r=Math.round(r),o=Math.round(o),0>o)return Promise.reject("bad duration");if(0===o)return window.scroll(0,r),Promise.resolve();var n=Date.now(),t=n+o,i=scrollPosition(),e=r-i,l=function(r,o,n){if(r>=n)return 0;if(n>=o)return 1;var t=(n-r)/(o-r);return t*t*(3-2*t)};return new Promise(function(o,s){var u=scrollPosition(),a=function(){if(scrollPosition()!==u&&(navigator.userAgent.match(/iPhone/i)===!1||navigator.userAgent.match(/iPod/i)===!1))return void s("interrupted");var c=Date.now(),f=l(n,t,c),d=Math.round(i+e*f);return window.scroll(0,d),c>=t?void o():r===scrollPosition?void o():(u=scrollPosition(),void window.setTimeout(a,0))};window.setTimeout(a,0)})};